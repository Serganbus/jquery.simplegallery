!function(a){a.fn.createSimpleImgGallery=function(){for(var b=a(this).find("a"),c=b.length,d=0;d<c;d++){var e=a(b[d]);e.attr("data-id",d),e.find("img").css({float:"left",width:"40px",height:"40px",margin:"2px"})}var f=a('<div id="codengineering_overlay"></div>'),g=a('<div class="wrapper"></div>'),h=a('<div class="img_inner_wrapper" data-rotation="0"></div>'),i=a('<div class="img_wrapper"></div>'),j=a('<div class="nav-btn nav-btn-left pointer"><span class="fa fa-caret-left"></span></div>'),k=a('<div class="nav-btn nav-btn-right pointer"><span class="fa fa-caret-right"></span></div>'),l=a('<div class="settings_wrapper"></div>'),m=a('<div class="settings"></div>'),n=a('<a><i class="fa fa-rotate-left pointer"></i></a>'),o=a('<a><i class="fa fa-rotate-right pointer"></i></a>'),p=a('<div class="loading_wrapper"></div>'),q=a('<div class="loading_text"><i class="fa fa-refresh fa-spin fa-3x fa-fw margin-bottom"></i></div>'),r=a("<img>"),s=a("<p></p>");f.append(g),h.append(r),i.append(h),l.append(m),m.append("&nbsp;").append(n).append("&nbsp;").append(o).append("&nbsp;"),p.append(q),g.append(i).append(l).append(j).append(k).append(p).append(s),a("body").append(f);var t=null,u=null,v=function(){var a=g.height(),b=g.width(),c=parseInt(h.attr("data-rotation"));c%180!==0&&(a=g.width(),b=g.height()),r.width("auto"),r.height(a),r.width()>b&&(r.width(b),r.height("auto"));var d=r.height(),e=r.width();h.css("margin-top",-d/2+"px"),h.css("margin-left",-e/2+"px"),j.css("line-height",j.height()+"px"),k.css("line-height",k.height()+"px"),p.css("line-height",g.height()+"px")},w=function(d){d=parseInt(d);var e=d===c-1,h=0===d,i=a(b[d]);r.attr("src",i.attr("href"));var l=i.children("img").attr("alt");s.text(l),q.animate({opacity:1},100),h&&j.hide(),h||(t=b[d-1],j.show()),e&&k.hide(),e||(u=b[1+d],k.show()),f.show(),g.animate({opacity:1},300)},x=function(a){a=parseInt(a);var b=parseInt(h.attr("data-rotation")),c=b+a;y(c),v()},y=function(a){h.attr("data-rotation",a),h.css({"-webkit-transform":"rotate("+a+"deg)","-moz-transform":"rotate("+a+"deg)","-ms-transform":"rotate("+a+"deg)",transform:"rotate("+a+"deg)"})};f.click(function(){f.hide(),g.css("opacity",0)}),j.click(function(b){b.stopPropagation(),w(a(t).attr("data-id"))}),k.click(function(b){b.stopPropagation(),w(a(u).attr("data-id"))}),b.click(function(b){b.preventDefault(),w(a(this).attr("data-id"))}),n.click(function(a){a.stopPropagation(),x(-90)}),o.click(function(a){a.stopPropagation(),x(90)}),r.on("load",function(){q.animate({opacity:0},100),y(0),v()}),a(window).on("resize",v)}}(jQuery);